function scrollTo(a){var e=location.href;location.href="#"+a,history.replaceState(null,null,e)}class AjaxCaller{constructor(){this.launches=$.ajax({method:"GET",url:"https://api.spacexdata.com/v3/launches",dataType:"json",async:!1}).responseJSON}get_all_launches(){$("#totalLaunches").html(`<div class="display-3">${this.launches.length}</div>`)}get_all_rockets(){let a={};for(var e in this.launches.forEach(function(e){return a[e.rocket.rocket_name]?a[e.rocket.rocket_name]+=1:a[e.rocket.rocket_name]=1,a}),a)a.hasOwnProperty(e)&&(console.log(e,a[e]),$("#rockets").append(`<span class="h2">${e}: </span>`).append(`<span class="h2">${a[e]}</span><br>`))}getDataForHistoryChart(){let a={};return this.launches.forEach(function(e){a[e.launch_year]?a[e.launch_year]+=1:a[e.launch_year]=1}),a}getDataForFailedChart(){let a={};return this.launches.forEach(function(e){console.log(e.launch_success),console.log(e.launch_year),a[e.launch_year]&&!1===e.launch_success?a[e.launch_year]+=1:a[e.launch_year]||!1!==e.launch_success?a[e.launch_year]||(a[e.launch_year]=0):a[e.launch_year]=1}),a}}var totalLaunchesChart=function(a){if(!a instanceof Array)return 0;var e=document.getElementById("launchHistory");new Chart(e,{type:"line",data:{labels:Object.keys(a[0]),datasets:[{label:"Launches per year(all including failed and planned)",data:Object.values(a[0]),backgroundColor:["rgba(255, 255, 132, 0.3)"],borderColor:["rgba(255, 255, 132, 1)"],borderWidth:1},{label:"Failures",data:Object.values(a[1]),backgroundColor:["rgba(255, 23, 0, 0.3)"],borderColor:["rgba(255, 23, 0, 1)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})};$("document").ready(function(){scrollTo("astronautmaPicture");var a=new AjaxCaller;a.get_all_launches(),a.get_all_rockets(),totalLaunchesChart([a.getDataForHistoryChart(),a.getDataForFailedChart()])});